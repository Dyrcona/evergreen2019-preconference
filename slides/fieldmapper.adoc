OpenILS::Utils::Fieldmapper
---------------------------

[source,perl]
.Import
----
use OpenSRF::System;
use OpenSRF::Utils::SettingsClient;
use OpenILS::Utils::Fieldmapper;
OpenSRF::System->bootstrap_client(config_file => '/openils/conf/opensrf_core.xml');
Fieldmapper->import(IDL => OpenSRF::Utils::SettingsClient->new->config_value("IDL"));
----

*Bonus:* Cronscript does that for you when you bootstrap it.

[source,perl]
.Get List of Class Names
----
my @classes = Fieldmapper::classes();
----

[source,perl]
.Get class for a hint
----
my $aou_class = Fieldmapper::class_for_hint('aou');
----

[source,perl]
.Create Instance From a Class
----
my $aou_obj = $aou_class->new();
----

Usual Way To Instantiate an Object
----------------------------------

[source,perl]
----
my $item = Fieldmapper::asset::copy->new();
$item->barcode('31234005678911');
$item->call_number(OILS_PRECAT_CALL_NUMBER);
$item->dummy_title('Red Alert');
$item->dummy_author('Peter George');
$item->circ_lib($user->home_ou());
$item->circulate('t');
$item->holdable('t');
$item->opac_visible('f');
$item->deleted('f');
$item->fine_level(OILS_PRECAT_COPY_FINE_LEVEL);
$item->loan_duration(OILS_PRECAT_COPY_LOAN_DURATION);
$item->location(1);
$item->status(0);
$item->editor($user->id());
$item->creator($user->id());
$item->isnew(1);
----

Side Bar: Fieldmapper and the IDL
---------------------------------

....
<class id="ccs"
       controller="open-ils.cstore open-ils.pcrud"
       oils_obj:fieldmapper="config::copy_status"
       oils_persist:tablename="config.copy_status"
       oils_persist:restrict_primary="100"
       reporter:label="Copy Status"
       oils_persist:field_safe="true">
    <fields oils_persist:primary="id" oils_persist:sequence="config.copy_status_id_seq">
        <field name="holdable" reporter:datatype="bool"/>
        <field name="id" reporter:selector="name" reporter:datatype="id"/>
        <field name="name"  reporter:datatype="text" oils_persist:i18n="true"/>
        <field name="opac_visible" reporter:datatype="bool"/>
        <field name="copy_active" reporter:datatype="bool"/>
        <field name="restrict_copy_delete" reporter:datatype="bool"/>
        <field name="is_available" reporter:datatype="bool"/>
    </fields>
    <links/>
    <permacrud xmlns="http://open-ils.org/spec/opensrf/IDL/permacrud/v1">
        <actions>
            <create permission="CREATE_COPY_STATUS" global_required="true"/>
            <retrieve/>
            <update permission="UPDATE_COPY_STATUS" global_required="true"/>
            <delete permission="DELETE_COPY_STATUS" global_required="true"/>
        </actions>
    </permacrud>
</class>
....


Fielmapper Object Methods
-------------------------

[source,perl]
----
----
